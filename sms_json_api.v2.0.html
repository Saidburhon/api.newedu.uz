<!DOCTYPE HTML><html><head><title>Документация SMS API (формат JSON)</title><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="generator" content="https://github.com/raml2html/raml2html 7.8.0"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/default.min.css"><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script><script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script><script type="text/javascript">
      $(document).ready(function() {
  $('.page-header pre code, .top-resource-description pre code, .modal-body pre code').each(function(i, block) {
    hljs.highlightBlock(block);
  });

  $('[data-toggle]').click(function() {
    var selector = $(this).data('target') + ' pre code';
    $(selector).each(function(i, block) {
      hljs.highlightBlock(block);
    });
  });

  // open modal on hashes like #_action_get
  $(window).bind('hashchange', function(e) {
    var anchor_id = document.location.hash.substr(1); //strip #
    var element = $('#' + anchor_id);

    // do we have such element + is it a modal?  --> show it
    if (element.length && element.hasClass('modal')) {
      element.modal('show');
    }
  });

  // execute hashchange on first page load
  $(window).trigger('hashchange');

  // remove url fragment on modal hide
  $('.modal').on('hidden.bs.modal', function() {
    try {
      if (history && history.replaceState) {
          history.replaceState({}, '', '#');
      }
    } catch(e) {}
  });
});
    </script><style>
      .hljs {
  background: transparent;
}
.parent {
  color: #999;
}
.list-group-item > .badge {
  float: none;
  margin-right: 6px;
}
.panel-title > .methods {
  float: right;
}
.badge {
  border-radius: 0;
  text-transform: uppercase;
  width: 70px;
  font-weight: normal;
  color: #f3f3f6;
  line-height: normal;
}
.badge_get {
  background-color: #63a8e2;
}
.badge_post {
  background-color: #6cbd7d;
}
.badge_put {
  background-color: #22bac4;
}
.badge_delete {
  background-color: #d26460;
}
.badge_patch {
  background-color: #ccc444;
}
.list-group,
.panel-group {
  margin-bottom: 0;
}
.panel-group .panel+.panel-white {
  margin-top: 0;
}
.panel-group .panel-white {
  border-bottom: 1px solid #F5F5F5;
  border-radius: 0;
}
.panel-white:last-child {
  border-bottom-color: white;
  -webkit-box-shadow: none;
  box-shadow: none;
}
.panel-white .panel-heading {
  background: white;
}
.tab-pane ul {
  padding-left: 2em;
}
.tab-pane h1 {
  font-size: 1.3em;
}
.tab-pane h2 {
  font-size: 1.2em;
  padding-bottom: 4px;
  border-bottom: 1px solid #ddd;
}
.tab-pane h3 {
  font-size: 1.1em;
}
.tab-content {
  border-left: 1px solid #ddd;
  border-right: 1px solid #ddd;
  border-bottom: 1px solid #ddd;
  padding: 10px;
}
#sidebar {
  margin-top: 30px;
  padding-right: 5px;
  overflow: auto;
  height: 90%;
}
.top-resource-description {
  border-bottom: 1px solid #ddd;
  background: #fcfcfc;
  padding: 15px 15px 0 15px;
  margin: -15px -15px 10px -15px;
}
.resource-description {
  border-bottom: 1px solid #fcfcfc;
  background: #fcfcfc;
  padding: 15px 15px 0 15px;
  margin: -15px -15px 10px -15px;
}
.resource-description p:last-child {
  margin: 0;
}
.list-group .badge {
  float: left;
}
.method_description {
  margin-left: 85px;
}
.method_description p:last-child {
  margin: 0;
}
.list-group-item {
  cursor: pointer;
}
.list-group-item:hover {
  background-color: #f5f5f5;
}
pre code {
  overflow: auto;
  word-wrap: normal;
  white-space: pre;
}
.items {
  background: #f5f5f5;
  color: #333;
  border: 1px solid #ccc;
  border-radius: 4px;
  padding: 9.5px;
  margin: 0 0 10px;
  font-size: 13px;
  line-height: 1.42857143;
}
.examples {
  margin-left: 0.5em;
}
.resource-modal li > ul {
  margin-bottom: 1em;
}
.required {
  color: #f00;
}
    </style></head><body data-spy="scroll" data-target="#sidebar"><div class="container"><div class="row"><div class="col-md-9" role="main"><div class="page-header"><h1>Документация SMS API (формат JSON) <small>version 2.0</small></h1><p>https://routee.sayqal.uz</p><p><a href="https://www.sayqal.uz">Sayqal Solutions</a></p><h3><a href="#">Краткое описание</a></h3><p>Взаимодействие с SMS API OOO "Sayqal Solutions" осуществляется по протоколу HTTP в теле формат <a href="http://www.json.org/">JSON</a>.<br><a href="https://routee.sayqal.uz/Sayqal_SMS_postman_collection.json">Postman collection</a> и заметка как сгенерировать <a href="https://routee.sayqal.uz/TOKEN_POSTMAN_SMS.pdf">TOKEN</a> и <a href="https://routee.sayqal.uz/Sayqal_examples_sms.zip">ПРИМЕРЫ</a></p></div><div class="panel panel-default"><div class="panel-heading"><h3 id="sms_transmitsms" class="panel-title">Отправка SMS</h3></div><div class="panel-body"><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_sms_transmitsms"><span class="parent"></span>/sms/TransmitSMS</a> <span class="methods"><a href="#sms_transmitsms_post"><span class="badge badge_post">post <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span></a></span></h4></div><div id="panel_sms_transmitsms" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#sms_transmitsms_post'" class="list-group-item"><span class="badge badge_post">post <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span><div class="method_description"><p>Запрос на отправку SMS с одним номером получателя.<br>POST запрос на <a href="https://routee.sayqal.uz/sms/TransmitSMS">https://routee.sayqal.uz/sms/TransmitSMS</a></p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="sms_transmitsms_post"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span> <span class="parent"></span>/sms/TransmitSMS</h4></div><div class="modal-body"><div class="alert alert-info"><p>Запрос на отправку SMS с одним номером получателя.<br>POST запрос на <a href="https://routee.sayqal.uz/sms/TransmitSMS">https://routee.sayqal.uz/sms/TransmitSMS</a></p></div><div class="alert alert-warning"><span class="glyphicon glyphicon-lock" title="Authentication required"></span> Secured by <b>TransmitSMS</b></div><ul class="nav nav-tabs"><li class="active"><a href="#sms_transmitsms_post_request" data-toggle="tab">Request</a></li><li><a href="#sms_transmitsms_post_response" data-toggle="tab">Response</a></li><li><a href="#sms_transmitsms_post_securedby" data-toggle="tab">Security</a></li></ul><div class="tab-content"><div class="tab-pane active" id="sms_transmitsms_post_request"><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>utime</strong>: <em><span class="required">required</span>(integer)</em><p>Текущий (системный) UNIX timeStamp.<br>Используется только в генерации TOKEN-а.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>1710160313</code></pre></div></li><li><strong>username</strong>: <em><span class="required">required</span>(string)</em><p>User Name партнера</p></li><li><strong>service</strong>: <em><span class="required">required</span>(object)</em><p>Информация о сервисе</p><ul><li><strong>service</strong>: <em><span class="required">required</span>(integer)</em><p>Идентификационный номер предоставляемой услуги</p></li><li><strong>numbera</strong>: <em>(string)</em><p>Номер услуги (1515, 6670 итд)</p></li><li><strong>nickname</strong>: <em>(string)</em><p>Ник (Альфа номер) отправителя</p></li><li><strong>mclass</strong>: <em>(integer)</em><p>Accepts values between 0 and 3, for Message Class 0 to 3, A value of 0 sends the message directly to display, 1 sends to mobile, 2 to SIM and 3 to SIM toolkit</p></li></ul></li><li><strong>message</strong>: <em><span class="required">required</span>(object)</em><p>SMS сообщения</p><ul><li><strong>smsid</strong>: <em><span class="required">required</span>(string)</em><p>Уникальный идентификатор для каждого СМС в системе партнера</p></li><li><strong>phone</strong>: <em><span class="required">required</span>(string - pattern: 998YYХХХХХХХ)</em><p>Номер абонента получателя (в международном формате 998981250765). Абоненты РУз</p></li><li><strong>text</strong>: <em><span class="required">required</span>(string)</em><p>Текст СМС сообщения. Длина до 918 символов когда все символы в латинице и до 938 символов когда в тексте присуствует хотя бы один символ не в латинице. Длинный текст разбиваеться по частям:</p><ul><li>по 153 символов если длина текста больше 160 символов и если все символы в латинице (из таблицы ASCII)</li><li>по 67 символов если длина текста больше 70 символов и если текст на русском (в UNICODE-е)</li></ul><p>счет выставляется на каждый часть (СМС) отдельно</p></li><li><strong>validityTime</strong>: <em>(string - default: sysdate + 24 часа - pattern: yyyy-mm-dd hh24:mi:ss)</em><p>Срок жизни</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>2024-03-12 17:31:53</code></pre></div></li></ul></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
    "utime":1571347689,
    "username":"test",
    "service":{
        "service":1
    },
    "message":{
        "smsid":101,
        "phone":"998981250765",
        "text":"test text"
    }
}</code></pre></div></div><div class="tab-pane" id="sms_transmitsms_post_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>transactionid</strong>: <em><span class="required">required</span>(integer)</em><p>Уникальный идентификатор для каждого СМС в системе Sayqal Solutions</p></li><li><strong>smsid</strong>: <em><span class="required">required</span>(string)</em><p>Уникальный идентификатор для каждого СМС в системе партнера, переданный в запросе</p></li><li><strong>parts</strong>: <em><span class="required">required</span>(integer)</em><p>Количество СМС. Длинные тексты СМС деляться на несколько СМС, смотрите описание message.text</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
    "transactionid":"6988790",
    "smsid":"101",
    "parts":1
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>При ошибке</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>errorCode</strong>: <em><span class="required">required</span>(integer)</em><p>Статус (код ошибки) транзакции</p></li><li><strong>errorMsg</strong>: <em><span class="required">required</span>(string)</em><p>Сообщение об ошибке</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
    "errorCode":110,
    "errMsg":"INVALID PARAM. Incorrect value of \"username\""
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><p>При ошибке в TOKEN</p></div><div class="tab-pane" id="sms_transmitsms_post_securedby"><h1>Secured by TransmitSMS</h1><h3>Headers</h3><ul><li><strong>X-Access-Token</strong>: <em><span class="required">required</span>(string)</em><pre><code>X-Access-Token: c7ee559506c1c07694bec475a6d508e7
</code></pre><p>ТОКЕН - создаеться следующему способу (Пример в PHP):</p><pre><code>function generateTransmitAccessToken($userName, $secretKey, $utime)
{
  $Access = "TransmitSMS {$userName} {$secretKey} {$utime}";
  return md5($Access);
}
</code></pre></li></ul><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><p>Bad access token.</p></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="sms_multicastsms" class="panel-title">Групповая отправка SMS</h3></div><div class="panel-body"><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_sms_multicastsms"><span class="parent"></span>/sms/MulticastSMS</a> <span class="methods"><a href="#sms_multicastsms_post"><span class="badge badge_post">post <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span></a></span></h4></div><div id="panel_sms_multicastsms" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#sms_multicastsms_post'" class="list-group-item"><span class="badge badge_post">post <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span><div class="method_description"><p>Запрос на отправку SMS на несколько (до 100) номеров получателей.<br>POST запрос на <a href="https://routee.sayqal.uz/sms/MulticastSMS">https://routee.sayqal.uz/sms/MulticastSMS</a></p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="sms_multicastsms_post"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span> <span class="parent"></span>/sms/MulticastSMS</h4></div><div class="modal-body"><div class="alert alert-info"><p>Запрос на отправку SMS на несколько (до 100) номеров получателей.<br>POST запрос на <a href="https://routee.sayqal.uz/sms/MulticastSMS">https://routee.sayqal.uz/sms/MulticastSMS</a></p></div><div class="alert alert-warning"><span class="glyphicon glyphicon-lock" title="Authentication required"></span> Secured by <b>MulticastSMS</b></div><ul class="nav nav-tabs"><li class="active"><a href="#sms_multicastsms_post_request" data-toggle="tab">Request</a></li><li><a href="#sms_multicastsms_post_response" data-toggle="tab">Response</a></li><li><a href="#sms_multicastsms_post_securedby" data-toggle="tab">Security</a></li></ul><div class="tab-content"><div class="tab-pane active" id="sms_multicastsms_post_request"><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>utime</strong>: <em><span class="required">required</span>(integer)</em><p>Текущий (системный) UNIX timeStamp.<br>Используется только в генерации TOKEN-а.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>1710160313</code></pre></div></li><li><strong>username</strong>: <em><span class="required">required</span>(string)</em><p>User Name партнера</p></li><li><strong>service</strong>: <em><span class="required">required</span>(object)</em><p>Информация о сервисе</p><ul><li><strong>service</strong>: <em><span class="required">required</span>(integer)</em><p>Идентификационный номер предоставляемой услуги. На данном методе (/sms/MulticastSMS) используется индентификаторы услуг с низким приоритетом. Например 3 или 4.</p></li><li><strong>numbera</strong>: <em>(string)</em><p>Номер услуги (1515, 6670 итд)</p></li><li><strong>nickname</strong>: <em>(string)</em><p>Ник (Альфа номер) отправителя</p></li><li><strong>mclass</strong>: <em>(integer)</em><p>Accepts values between 0 and 3, for Message Class 0 to 3, A value of 0 sends the message directly to display, 1 sends to mobile, 2 to SIM and 3 to SIM toolkit</p></li></ul></li><li><strong>settings</strong>: <em><span class="required">required</span>(object)</em><p>Настройки</p><ul><li><strong>skiperrors</strong>: <em>(one of yes, no, y, n, 1, 0 - default: no)</em><p>Этот параметр указывает, что процесс должен пропустить ошибки и продолжить выполнение. Пропускаеться только те ошибки связанные с номерами из массива СМС получателей, и не влияет на глобальные ошибки.</p></li><li><strong>textsource</strong>: <em><span class="required">required</span>(one of text, defaulttext, templatetext, templateid)</em><p>Источник текста СМС, определяет в каком параметре запроса должен быть указан текст СМС. Принимает одно из следующих значений:</p><ul><li><strong>text</strong> - Для каждого номера из массива СМС получателей свой уникалный текст (параметр запроса - message.text)</li><li><strong>defaulttext</strong> - Текст общый для всех номеров из массива СМС получателей (параметр запроса - settings.defaulttext)</li><li><strong>templatetext</strong> - Текст общый по шаблону для всех номеров из массива СМС получателей (параметр запроса - settings.templatetext)</li><li><strong>templateid</strong> - Текст общый по идентификатору шаблона для всех номеров из массива СМС получателей (параметр запроса - settings.templateid).</li></ul></li><li><strong>defaulttext</strong>: <em>(string)</em><p>Когда источник текста указан settings.textSource = defaultText, то этот параметр являеться объязателным.</p></li><li><strong>templatetext</strong>: <em>(string)</em><p>Когда источник текста указан settings.textSource = templatetext, то этот параметр являеться объязателным. Смотрите описание парааметра запроса message.variables.</p></li><li><strong>templateid</strong>: <em>(integer)</em><p>Когда источник текста указан settings.textSource = templateid, то этот параметр являеться объязателным. Шаблон идентифицируеться в персональном кабинете. Смотрите описание парааметра запроса message.variables.</p></li><li><strong>defaultvalidityTime</strong>: <em>(string - default: sysdate + 24 часа - pattern: yyyy-mm-dd hh24:mi:ss)</em><p>Срок жизни по умолчанию.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>2024-03-12 17:31:53</code></pre></div></li></ul></li><li><strong>messages</strong>: <em><span class="required">required</span>(array of message - minItems: 1 - maxItems: 100)</em><p>Массив номеров СМС получателей.</p><p><strong>Items</strong>: message</p><div class="items"><ul><li><strong>smsid</strong>: <em><span class="required">required</span>(string)</em><p>Уникальный идентификатор для каждого СМС в системе партнера</p></li><li><strong>phone</strong>: <em><span class="required">required</span>(string - pattern: 998YYХХХХХХХ)</em><p>Номер абонента получателя (в международном формате 998981250765). Абоненты РУз</p></li><li><strong>text</strong>: <em>(string)</em><p>Текст СМС сообщения. Длина до 918 символов когда все символы в латинице и до 938 символов когда в тексте присуствует хотя бы один символ не в латинице. Длинный текст разбиваеться по частям:</p><ul><li>по 153 символов если длина текста больше 160 символов и если все символы в латинице (из таблицы ASCII)</li><li>по 67 символов если длина текста больше 70 символов и если текст на русском (в UNICODE-е)</li></ul><p>счет выставляется на каждый часть (СМС) отдельно</p></li><li><strong>validityTime</strong>: <em>(string - default: sysdate + 24 часа - pattern: yyyy-mm-dd hh24:mi:ss)</em><p>Срок жизни, если не указан значение этого параметра, то 2 вида развития событий</p><ul><li>Срок жизни = settings.defaultvalidityTime - если указано знечения параметра settings.defaultvalidityTime</li><li>Срок жизни = default значению - если не указано знечения параметра settings.defaultvalidityTime</li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>2024-03-12 17:31:53</code></pre></div></li><li><strong>variables</strong>: <em>(object)</em><p>Значении параметров шаблона. Когда источник текста (settings.textSource) указан templatetext или templateid, то этот параметр (объект) являеться объязателным.<br>Значении параметров шаблона указывается как обычный элемент объекта: "PARAM1": "VALUE1".<br>Сами параметры шаблона в тексте шаблона указывается врутри фигурных скобок, например: {PARAM1}.<br>Текст шаблона для примера:<br><strong>Уважаемый(ая) {FIO}, оплатите свой долг в размере {DOLG} сум в течении {OTSROCHKA} дня.</strong></p><ul></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "FIO": "Иванов Иван Иванович",
  "DOLG": "123 456.78",
  "OTSROCHKA": "3"
}</code></pre></div></li></ul></div></li></ul><p><strong>Examples</strong>:</p><div class="examples"><p><strong>Вариант №1 - textsource = text</strong>:<br></p><pre><code>{
    "utime": 1710160700,
    "username": "test",
    "service": {
      "service": 4
    },
    "settings": {
      "textsource": "text"
    },
    "messages": [
      {
        "smsid": 101,
        "phone": "998981250765",
        "text": "test text 0765"
      },
      {
        "smsid": 102,
        "phone": "998981250795",
        "text": "test text 0795"
      }
    ]
}
</code></pre><p><strong>Вариант №2 - textsource = defaulttext</strong>:<br></p><pre><code>{
    "utime": 1710160700,
    "username": "test",
    "service": {
      "service": 4
    },
    "settings": {
      "textsource": "defaulttext",
      "defaulttext": "test text for all"
    },
    "messages": [
      {
        "smsid": 101,
        "phone": "998981250765"
      },
      {
        "smsid": 102,
        "phone": "998981250795"
      }
    ]
}
</code></pre><p><strong>Вариант №3 - textsource = templatetext</strong>:<br></p><pre><code>{
    "utime": 1710160700,
    "username": "test",
    "service": {
      "service": 4
    },
    "settings": {
      "textsource": "templatetext",
      "templatetext": "Уважаемый(ая) {FIO}, оплатите свой долг в размере {DOLG} сум в течении {OTSROCHKA} дня."
    },
    "messages": [
      {
        "smsid": 101,
        "phone": "998981250765",
        "variables": {
          "FIO": "Иванов Иван Иванович",
          "DOLG": "123 456.78",
          "OTSROCHKA": "3"
        }
      }
    ]
}</code></pre></div></div><div class="tab-pane" id="sms_multicastsms_post_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>success</strong>: <em><span class="required">required</span>(array of messageSuccess)</em><p>Успешно приняты</p><p><strong>Items</strong>: messageSuccess</p><div class="items"><ul><li><strong>transactionid</strong>: <em><span class="required">required</span>(integer)</em><p>Уникальный идентификатор для каждого СМС в системе Sayqal Solutions</p></li><li><strong>smsid</strong>: <em><span class="required">required</span>(string)</em><p>Уникальный идентификатор для каждого СМС в системе партнера</p></li><li><strong>parts</strong>: <em><span class="required">required</span>(integer)</em><p>Количество СМС. Длинные тексты СМС деляться на несколько СМС, смотрите описание message.text</p></li></ul></div></li><li><strong>errors</strong>: <em>(array of messageError)</em><p>Ошибка при обработке, когда settings.skiperrors = yes</p><p><strong>Items</strong>: messageError</p><div class="items"><ul><li><strong>errorCode</strong>: <em><span class="required">required</span>(integer)</em><p>Статус (код ошибки) транзакции</p></li><li><strong>errorMsg</strong>: <em><span class="required">required</span>(string)</em><p>Сообщение об ошибке</p></li><li><strong>smsid</strong>: <em><span class="required">required</span>(string)</em><p>Уникальный идентификатор для каждого СМС в системе партнера</p></li><li><strong>phone</strong>: <em><span class="required">required</span>(string - pattern: 998YYХХХХХХХ)</em><p>Номер абонента получателя (в международном формате 998981250765). Абоненты РУз</p></li></ul></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
  "success": [
    {
      "transactionid": "1349549962",
      "smsid": "101",
      "parts": "1"
    }
  ],
  "errors": [
    {
      "errorCode": 117,
      "errMsg": "INVALID PARAM. Incorrect value of \"text\"",
      "smsid": 102,
      "phone": "981250795"
    }
  ]
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>При ошибке</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>errorCode</strong>: <em><span class="required">required</span>(integer)</em><p>Статус (код ошибки) транзакции</p></li><li><strong>errorMsg</strong>: <em><span class="required">required</span>(string)</em><p>Сообщение об ошибке</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
    "errorCode":110,
    "errMsg":"INVALID PARAM. Incorrect value of \"username\""
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><p>При ошибке в TOKEN</p></div><div class="tab-pane" id="sms_multicastsms_post_securedby"><h1>Secured by MulticastSMS</h1><h3>Headers</h3><ul><li><strong>X-Access-Token</strong>: <em><span class="required">required</span>(string)</em><pre><code>X-Access-Token: c7ee559506c1c07694bec475a6d508e7
</code></pre><p>ТОКЕН - создаеться следующему способу (Пример в PHP):</p><pre><code>function generateTransmitAccessToken($userName, $secretKey, $utime)
{
  $Access = "MulticastSMS {$userName} {$secretKey} {$utime}";
  return md5($Access);
}
</code></pre></li></ul><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><p>Bad access token.</p></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="sms_statussms" class="panel-title">Получение статуса (состояние) SMS</h3></div><div class="panel-body"><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_sms_statussms"><span class="parent"></span>/sms/StatusSMS</a> <span class="methods"><a href="#sms_statussms_post"><span class="badge badge_post">post <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span></a></span></h4></div><div id="panel_sms_statussms" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#sms_statussms_post'" class="list-group-item"><span class="badge badge_post">post <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span><div class="method_description"><p>Запрос для получение статуса (информацию о последном состоянии SMS сообщения) SMS.<br>POST запрос на <a href="https://routee.sayqal.uz/sms/StatusSMS">https://routee.sayqal.uz/sms/StatusSMS</a></p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="sms_statussms_post"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span> <span class="parent"></span>/sms/StatusSMS</h4></div><div class="modal-body"><div class="alert alert-info"><p>Запрос для получение статуса (информацию о последном состоянии SMS сообщения) SMS.<br>POST запрос на <a href="https://routee.sayqal.uz/sms/StatusSMS">https://routee.sayqal.uz/sms/StatusSMS</a></p></div><div class="alert alert-warning"><span class="glyphicon glyphicon-lock" title="Authentication required"></span> Secured by <b>StatusSMS</b></div><ul class="nav nav-tabs"><li class="active"><a href="#sms_statussms_post_request" data-toggle="tab">Request</a></li><li><a href="#sms_statussms_post_response" data-toggle="tab">Response</a></li><li><a href="#sms_statussms_post_securedby" data-toggle="tab">Security</a></li></ul><div class="tab-content"><div class="tab-pane active" id="sms_statussms_post_request"><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>utime</strong>: <em><span class="required">required</span>(integer)</em><p>Текущий (системный) UNIX timeStamp.<br>Используется только в генерации TOKEN-а.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>1710160313</code></pre></div></li><li><strong>username</strong>: <em><span class="required">required</span>(string)</em><p>User Name партнера</p></li><li><strong>transactionid</strong>: <em><span class="required">required</span>(integer)</em><p>Уникальный идентификатор в системе Sayqal Solutions (из ответа TransmitSMS)</p></li><li><strong>smsid</strong>: <em><span class="required">required</span>(string)</em><p>Уникальный идентификатор в системе партнера</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
    "utime":1571373906,
    "username":"test",
    "transactionid":6988790,
    "smsid":101
}</code></pre></div></div><div class="tab-pane" id="sms_statussms_post_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Статус (состояния) SMS сообщения</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>smsid</strong>: <em><span class="required">required</span>(string)</em><p>Уникальный идентификатор для каждого СМС в системе партнера</p></li><li><strong>status</strong>: <em><span class="required">required</span>(integer)</em><p>Статус (состояние) этого СМС.</p><ul><li><strong>0</strong> - DELIVERED (доставлено)</li><li><strong>1</strong> - UNDELIVERED (не доставлено)</li><li><strong>2</strong> - EXPIRED (срок действия истек)</li><li><strong>3</strong> - ENROUTE (в обработке)</li><li><strong>4</strong> - ACCEPTED (принят СМС сервером, ожидается отчет о доставке)</li><li><strong>5</strong> - UNKNOWN (системная ошибка)</li></ul></li><li><strong>statusdate</strong>: <em><span class="required">required</span>(string - pattern: yyyy-mm-dd hh24:mi:ss)</em><p>Время изменение статуса СМС</p></li><li><strong>parts</strong>: <em><span class="required">required</span>(integer)</em><p>Количество СМС. Длинные тексты СМС деляться на несколько СМС</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
    "smsid":101,
    "status":0,
    "statusdate":"2024-03-18 19:00:00",
    "parts": 1
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>При ошибке</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>errorCode</strong>: <em><span class="required">required</span>(integer)</em><p>Статус (код ошибки) транзакции</p></li><li><strong>errorMsg</strong>: <em><span class="required">required</span>(string)</em><p>Сообщение об ошибке</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
    "errorCode": 108,
    "errMsg": "Data not found in DB"
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><p>При ошибке в TOKEN</p></div><div class="tab-pane" id="sms_statussms_post_securedby"><h1>Secured by StatusSMS</h1><h3>Headers</h3><ul><li><strong>X-Access-Token</strong>: <em><span class="required">required</span>(string)</em><pre><code>X-Access-Token: c7ee559506c1c07694bec475a6d508e7
</code></pre><p>ТОКЕН - создаеться следующему способу (Пример в PHP):</p><pre><code>function generateStatusAccessToken($userName, $secretKey, $utime)
{
  $Access = "StatusSMS {$userName} {$secretKey} {$utime}";
  return md5($Access);
}
</code></pre></li></ul><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><p>Bad access token.</p></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class="panel-heading"><h3 id="sms_detalsms" class="panel-title">Получение детализации SMS</h3></div><div class="panel-body"><div class="panel-group"><div class="panel panel-white resource-modal"><div class="panel-heading"><h4 class="panel-title"><a class="collapsed" data-toggle="collapse" href="#panel_sms_detalsms"><span class="parent"></span>/sms/DetalSMS</a> <span class="methods"><a href="#sms_detalsms_post"><span class="badge badge_post">post <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span></a></span></h4></div><div id="panel_sms_detalsms" class="panel-collapse collapse"><div class="panel-body"><div class="list-group"><div onclick="window.location.href = '#sms_detalsms_post'" class="list-group-item"><span class="badge badge_post">post <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span><div class="method_description"><p>Запрос для получение детализации SMS по номеру получателя.<br>POST запрос на <a href="https://routee.sayqal.uz/sms/DetalSMS">https://routee.sayqal.uz/sms/DetalSMS</a></p></div><div class="clearfix"></div></div></div></div></div><div class="modal fade" tabindex="0" id="sms_detalsms_post"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h4 class="modal-title" id="myModalLabel"><span class="badge badge_post">post <span class="glyphicon glyphicon-lock" title="Authentication required"></span></span> <span class="parent"></span>/sms/DetalSMS</h4></div><div class="modal-body"><div class="alert alert-info"><p>Запрос для получение детализации SMS по номеру получателя.<br>POST запрос на <a href="https://routee.sayqal.uz/sms/DetalSMS">https://routee.sayqal.uz/sms/DetalSMS</a></p></div><div class="alert alert-warning"><span class="glyphicon glyphicon-lock" title="Authentication required"></span> Secured by <b>DetalSMS</b></div><ul class="nav nav-tabs"><li class="active"><a href="#sms_detalsms_post_request" data-toggle="tab">Request</a></li><li><a href="#sms_detalsms_post_response" data-toggle="tab">Response</a></li><li><a href="#sms_detalsms_post_securedby" data-toggle="tab">Security</a></li></ul><div class="tab-content"><div class="tab-pane active" id="sms_detalsms_post_request"><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>utime</strong>: <em><span class="required">required</span>(integer)</em><p>Текущий (системный) UNIX timeStamp.<br>Используется только в генерации TOKEN-а.</p><p><strong>Example</strong>:</p><div class="examples"><pre><code>1710160313</code></pre></div></li><li><strong>username</strong>: <em><span class="required">required</span>(string)</em><p>User Name партнера</p></li><li><strong>phone</strong>: <em><span class="required">required</span>(string - pattern: 998YYХХХХХХХ)</em><p>Номер абонента получателя (в международном формате 998981250765). Абоненты РУз</p></li><li><strong>datebegin</strong>: <em><span class="required">required</span>(string - pattern: yyyy-mm-dd hh24:mi:ss)</em><p>начало периода</p></li><li><strong>dateend</strong>: <em><span class="required">required</span>(string - pattern: yyyy-mm-dd hh24:mi:ss)</em><p>конец периода</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
    "utime":1571723785,
    "username":"test",
    "phone":"998981250765",
    "datebegin":"2024-03-18 00:00:00",
    "dateend":"2024-03-18 23:59:59"
}</code></pre></div></div><div class="tab-pane" id="sms_detalsms_post_response"><h2>HTTP status code <a href="http://httpstatus.es/200" target="_blank">200</a></h2><p>Список (массив) SMS за период</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>count</strong>: <em><span class="required">required</span>(integer)</em><p>Количество SMS</p></li><li><strong>messages</strong>: <em><span class="required">required</span>(array of objectSMS)</em><p>Массив SMS сообщений</p><p><strong>Items</strong>: objectSMS</p><div class="items"><ul><li><strong>smsid</strong>: <em><span class="required">required</span>(string)</em><p>Уникальный идентификатор для каждого СМС в системе партнера</p></li><li><strong>text</strong>: <em><span class="required">required</span>(string)</em><p>Текст SMS сообщения</p></li><li><strong>status</strong>: <em><span class="required">required</span>(integer)</em><p>Статус (состояние) этого СМС.</p><ul><li><strong>0</strong> - DELIVERED (доставлено)</li><li><strong>1</strong> - UNDELIVERED (не доставлено)</li><li><strong>2</strong> - EXPIRED (срок действия истек)</li><li><strong>3</strong> - ENROUTE (в обработке)</li><li><strong>4</strong> - ACCEPTED (принят СМС сервером, ожидается отчет о доставке)</li><li><strong>5</strong> - UNKNOWN (системная ошибка)</li></ul></li><li><strong>statusdate</strong>: <em><span class="required">required</span>(string - pattern: yyyy-mm-dd hh24:mi:ss)</em><p>Время изменение статуса СМС</p></li><li><strong>partmax</strong>: <em><span class="required">required</span>(integer)</em><p>Максимальный количество частей при делении длинных СМС</p></li><li><strong>partnum</strong>: <em><span class="required">required</span>(integer)</em><p>Номер части при делении длинных СМС</p></li></ul></div></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
    "count":2,
    "messages":[
        {
            "smsid":"6885620",
            "text":"test message",
            "status":0,
            "sdate":"2019-10-05 17:39:46",
            "partmax":1,
            "partnum":1
        },
        {
            "smsid":"6885752",
            "text":"test message 1",
            "status":0,
            "sdate":"2019-10-21 00:15:19",
            "partmax":1,
            "partnum":1
        }
    ]
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/400" target="_blank">400</a></h2><p>При ошибке</p><h3>Body</h3><p><strong>Media type</strong>: application/json</p><p><strong>Type</strong>: object</p><strong>Properties</strong><ul><li><strong>errorCode</strong>: <em><span class="required">required</span>(integer)</em><p>Статус (код ошибки) транзакции</p></li><li><strong>errorMsg</strong>: <em><span class="required">required</span>(string)</em><p>Сообщение об ошибке</p></li></ul><p><strong>Example</strong>:</p><div class="examples"><pre><code>{
    "errorCode":110,
    "errMsg":"INVALID PARAM. Incorrect value of \"username\""
}</code></pre></div><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><p>При ошибке в TOKEN</p></div><div class="tab-pane" id="sms_detalsms_post_securedby"><h1>Secured by DetalSMS</h1><h3>Headers</h3><ul><li><strong>X-Access-Token</strong>: <em><span class="required">required</span>(string)</em><pre><code>X-Access-Token: c7ee559506c1c07694bec475a6d508e7
</code></pre><p>ТОКЕН - создаеться следующему способу (Пример в PHP):</p><pre><code>function generateStatusAccessToken($userName, $secretKey, $utime)
{
  $Access = "DetalSMS {$userName} {$secretKey} {$utime}";
  return md5($Access);
}
</code></pre></li></ul><h2>HTTP status code <a href="http://httpstatus.es/403" target="_blank">403</a></h2><p>Bad access token.</p></div></div></div></div></div></div></div></div></div></div></div><div class="col-md-3"><div id="sidebar" class="hidden-print affix" role="complementary"><ul class="nav nav-pills nav-stacked"><li><a href="#sms_transmitsms">Отправка SMS</a></li><li><a href="#sms_multicastsms">Групповая отправка SMS</a></li><li><a href="#sms_statussms">Получение статуса (состояние) SMS</a></li><li><a href="#sms_detalsms">Получение детализации SMS</a></li></ul></div></div></div></div></body></html>